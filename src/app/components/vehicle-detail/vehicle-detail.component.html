<div class="container-fluid">
  <ol class="breadcrumb">
    <li class="breadcrumb-item">
      <a routerLink="">Inicio</a>
    </li>
    <li class="breadcrumb-item">
      <a routerLink="/vehicles">Gestion de Vehiculos</a>
    </li>
    <li class="breadcrumb-item active">
      Detalle
    </li>
  </ol>
  <ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item">
      <a class="nav-link active" id="home-tab" data-toggle="tab" href="#detail" role="tab" aria-controls="home" aria-selected="true">Detalle</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="profile-tab" data-toggle="tab" href="#additional-data" role="tab" aria-controls="profile" aria-selected="false">Informacion Adicional</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="life-cycle" data-toggle="tab" href="#life-cycle-tab" role="tab" aria-controls="profile" aria-selected="false">Ciclo de Vida</a>
    </li>
  </ul>
  <div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="detail" role="tabpanel" aria-labelledby="detail-tab">
      <div class="container" *ngIf="vehicle">
        <div class="row">
          <div class="col">
            <table class="table table-striped table-responsive">
              <tr>
                <th scope="row">Dominio</th>
                <td>{{vehicle.id}}</td>
                <th scope="row">Marca</th>
                <td>{{vehicle.brand}}</td>
                <th scope="row">Modelo</th>
                <td>{{vehicle.model}}</td>
                <th scope="row">Tipo</th>
                <td>{{vehicle.tipe}}</td>
              </tr>
              <tr>
                <th scope="row">Marca Motor</th>
                <td>{{vehicle.engineBrand}}</td>
                <th scope="row">Nro Motor</th>
                <td>{{vehicle.brandNumber}}</td>
                <th scope="row">Marca Chasis</th>
                <td>{{vehicle.chasisBrand}}</td>
                <th scope="row">Nro Chasis</th>
                <td>{{vehicle.chasisNumber}}</td>
              </tr>
              <tr>
                <th scope="row">Uso</th>
                <td>{{vehicle.use}}</td>
                <th scope="row">Año</th>
                <td>{{vehicle.year}}</td>
                <th scope="row">Ubicación Fisica</th>
                <td>{{vehicle.location}}</td>
                <th scope="row">Color</th>
                <td>{{vehicle.color}}</td>
              </tr>
              <tr>
                <th scope="row">Estatus</th>
                <td>{{vehicle.status}}</td>
                <th scope="row">Ksm</th>
                <td>{{vehicle.km}}</td>
                <th scope="row">Valor Toma</th>
                <td>{{vehicle.costValue}}</td>
                <th scope="row">Valor Venta</th>
                <td>{{vehicle.publicValue}}</td>
              </tr>
              <tr>
                <th scope="row">Combustible</th>
                <td>{{vehicle.gasoline}}</td>
                <th scope="row"></th>
                <td></td>
                <th scope="row"></th>
                <td></td>
                <th scope="row"></th>
                <td></td>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="tab-pane fade" id="additional-data" role="tabpanel" aria-labelledby="additional-data-tab">
      <app-in-construction></app-in-construction>
    </div>
    <div class="tab-pane fade" id="life-cycle-tab" role="tabpanel" aria-labelledby="life-cycle-tab">
      <div class="container">
        <div class="row">
          <div class="col">
            <div id="accordion">
              <div class="card" *ngFor="let state of vehicleStates; let i = index" [attr.data-index]="i">
                <div class="card-header" id="headingOne">
                  <h5 class="mb-0">
                    {{i+1}}
                    <button class="btn btn-link" data-toggle="collapse" [attr.data-target]="'#option'+i" aria-expanded="false" [attr.aria-controls]="'option'+i">
                      {{state.state}}
                    </button>
                  </h5>
                </div>
                <div [id]="'option'+i" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
                  <div class="card-body">
                    <h5 class="card-title">{{state.location}}</h5>
                    <p class="card-text">{{state.description}}</p>
                    <div class="btn-group" role="group">
                      <button type="button" class="btn btn-secondary">Detalle</button>
                      <button type="button" class="btn btn-secondary">Editar</button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card">
                <div style="text-align: center" class="card-header" id="final" data-toggle="modal" data-backdrop="static" data-keyboard="false" data-target="#createVehicleStateModal">
                  <h5 class="mb-0">
                    <i class="fas fa-plus-circle"></i>
                  </h5>
                  Agregar Estado
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="jumbotron" *ngIf="!vehicle">
    <h1 class="display-4">Ups!</h1>
    <p class="lead">El Vehiculo {{id}} no existe</p>
    <hr class="my-4">
    <p>Pedimos disculpas por las molestias ocacionadas.</p>
    <a class="btn btn-primary btn-lg" routerLink="/vehicles" role="button">Volver</a>
  </div>
  <!-- Upload Files Vehicle Modal-->
  <div class="modal fade" id="createVehicleStateModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="titleRegVehicleModalLabel">Agregar Estado</h5>
          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">

          <form class="example-form" autocomplete="off">
            <div class="row">
              <div class="col">
                <mat-form-field>
                  <mat-label>Estado</mat-label>
                  <select matNativeControl  name="state" [(ngModel)]="vehicleState.state">
                    <option *ngFor="let vs of vehicleStatus" value="{{vs}}">{{vs}}</option>
                  </select>
                </mat-form-field>
              </div>
            </div>
            <div class="row">
              <div class="col">
                <mat-form-field class="example-full-width">
                  <input matInput placeholder="Descripcion" required name="description" [(ngModel)]="vehicleState.description">
                </mat-form-field>
              </div>
            </div>
            <div class="row">
              <div class="col">
                <mat-form-field class="example-full-width">
                  <input matInput placeholder="Ubicacion" required name="location" [(ngModel)]="vehicleState.location">
                </mat-form-field>
              </div>
              <!--div class="col">
                <input ngx-google-places-autocomplete [options]='options' #placesRef="ngx-places" (onAddressChange)="handleAddressChange($event)"/>
              </div-->
            </div>
            <div class="modal-footer">
              <button class="btn btn-primary" type="button" data-dismiss="modal" (click)="createStateVehicle()">Guardar</button>
            </div>
          </form>

        </div>
        <div class="modal-footer">

        </div>
      </div>
    </div>
  </div>
</div>
